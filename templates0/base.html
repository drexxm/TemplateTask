<!-- <!DOCTYPE html>
<html>
<head>
  <title>{% block title %}Task Manager{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <div class="sidebar">
    <h4 class="mb-4">Task Manager</h4>
    {% if current_user.is_authenticated %}
      <p>Hello, {{ current_user.username }}</p>
      {% set perms = current_user.permissions | tojson | safe | from_json %}
      <ul class="nav flex-column">
        {% if perms.index %}<li><a href="{{ url_for('task_bp.index') }}" target="content_frame">My Task</a></li>{% endif %}
        {% if perms.dashboard %}<li><a href="{{ url_for('task_bp.dashboard') }}" target="content_frame">Dashboard</a></li>{% endif %}
        {% if perms.admin_users %}<li><a href="{{ url_for('admin_bp.manage_users') }}" target="content_frame">User Management</a></li>{% endif %}
        {% if perms.admin_users %}<li><a href="{{ url_for('admin_bp.add_user') }}" target="content_frame">Add User</a></li>{% endif %}
        {% if perms.logout %}<li><a href="{{ url_for('auth.logout') }}">Logout</a></li>{% endif %}
      </ul>
    {% else %}
      <ul class="nav flex-column">
        <li><a href="{{ url_for('auth.login') }}" target="content_frame">Login</a></li>
        <li><a href="{{ url_for('auth.register') }}" target="content_frame">Register</a></li>
      </ul>
    {% endif %}
  </div>

  <div class="content">
    <iframe name="content_frame" src="{% if current_user.is_authenticated %}{{ url_for('task_bp.index') }}{% else %}{{ url_for('auth.login') }}{% endif %}"></iframe>
  </div>

</body>
</html> -->
